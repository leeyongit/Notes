异地多活的架构
===========
1. 为什么要做异地多活，主要是为了提升系统的容灾能力，比如单机房的网络故障、地震火灾等不可抗因素，都有可能造成整个机房瘫痪。
2. 多活方式是异地三节点
3. 通过域名做负载均衡，将请求路由到最近的可用服务的机房
    DNS 负载均衡

技巧 1：保证核心业务的异地多活
技巧 2：保证核心数据最终一致性
    尽量减少异地多活机房的距离，搭建高速网络
    尽量减少数据同步，只同步核心业务相关的数据
    保证最终一致性，不保证实时一致性
技巧 3：采用多种手段同步数据
    存储系统同步方式
    消息队列方式
技巧 4：只保证绝大部分用户的异地多活